# API
APP_NAME=adk-multi-agent
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO
# Optional: file to append logs (same JSON as console). Leave empty for console only.
LOG_FILE=logs/app.log

# Memory feature flags (set false to disable a layer)
SHORT_TERM_ENABLED=true
LONG_TERM_ENABLED=true
EPISODIC_ENABLED=true
SEMANTIC_ENABLED=true
PROCEDURAL_ENABLED=true

# Redis (short-term memory, TTL 30 min)
# Local: redis://localhost:6379/0
# Cloud (Redis Labs etc.): redis://default:<password>@<host>:<port>
REDIS_URL=redis://localhost:6379/0
SHORT_TERM_TTL_SECONDS=1800
SHORT_TERM_MAX_MESSAGES=20

# MongoDB (long-term memory)
# Local: mongodb://localhost:27017
# Atlas: mongodb+srv://<user>:<password>@<cluster>.mongodb.net/
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB=agent_memory
# Raw conversation docs (plain JSON)
MONGODB_COLLECTION=agent_long_memory
# mem0 vector store for semantic search (same DB; separate collection)
MEM0_COLLECTION=mem0_long_memory
MEM0_EMBEDDING_MODEL=gemini-embedding-001

# Episodic, semantic, procedural memory (same DB; separate collections)
EPISODIC_COLLECTION=agent_episodic
MEM0_SEMANTIC_COLLECTION=mem0_semantic
PROCEDURAL_COLLECTION=agent_procedural

# LLM (Gemini)
GOOGLE_API_KEY=your_google_ai_studio_api_key
GOOGLE_GENAI_USE_VERTEXAI=FALSE
GEMINI_MODEL=gemini-2.0-flash

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# Retry / circuit breaker
TOOL_RETRY_ATTEMPTS=3
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_SECONDS=60

# OpenTelemetry (optional)
OTEL_ENABLED=false
OTEL_SERVICE_NAME=adk-multi-agent

# Context: offloading, filtering, caching, compaction
CONTEXT_OFFLOAD_ENABLED=true
CONTEXT_OFFLOAD_MESSAGE_THRESHOLD=12
CONTEXT_OFFLOAD_KEEP_RECENT=5
CONTEXT_FILTER_ENABLED=true
CONTEXT_LONG_TERM_MAX_ITEMS=5
CONTEXT_LONG_TERM_MIN_SCORE=
CONTEXT_PROCEDURE_MAX_ITEMS=10
CONTEXT_SHORT_TERM_RECENT_N=3
CONTEXT_CACHE_ENABLED=true
CONTEXT_CACHE_TTL_SECONDS=60
CONTEXT_COMPACTION_ENABLED=true
CONTEXT_COMPACTION_MAX_CHARS_PER_PART=2800
CONTEXT_COMPACTION_MAX_TOTAL_CHARS=9000
OFFLOADED_CONTEXT_COLLECTION=agent_offloaded_context
